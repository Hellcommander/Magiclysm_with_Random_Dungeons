[
  {
    "id": "PSY_TALK_TRADER_MONSTER",
    "type": "talk_topic",
    "dynamic_line": "Welcome! What would you like?",
    "responses": [
      { "text": "[I need some kind of weapon.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY1" },
      { "text": "[I need some kind of magic item.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY2" },
      { "text": "[I need some kind of medicine.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY3" },
      { "text": "[I need some ammo.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY4" },
      { "text": "[other]", "topic": "PSY_TALK_TRADER_MONSTER_BUY5" },
      { "text": "[I don't want any right now.]", "topic": "PSY_TALK_TRADER_GOODBYE" }
    ]
  },
  {
    "//1": "WEAPON",
    "id": "PSY_TALK_TRADER_MONSTER_BUY1",
    "type": "talk_topic",
    "dynamic_line": "Please select the product you want.",
    "responses": [
      {
        "text": "[10 magic token] 10 bar",
        "trial": { "type": "CONDITION", "condition": { "u_has_items": { "item": "ten_doller_token", "count": 1 } } },
        "success": {
          "topic": "PSY_TALK_TRADER_MONSTER_ANSWER",
          "effect": [
            { "u_spawn_item": "protein_bar_evac", "count": 100 },
            { "u_sell_item": "ten_doller_token", "count": 1 }
          ]
        },
        "failure": { "topic": "PSY_TALK_TRADER_MONSTER_NOCASH" }
      },

      { "text": "[I need some kind of magic item.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY2" },
      { "text": "[I need some kind of medicine.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY3" },
      { "text": "[I need some ammo.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY4" },
      { "text": "[other]", "topic": "PSY_TALK_TRADER_MONSTER_BUY5" },
      { "text": "[I don't want any right now.]", "topic": "PSY_TALK_TRADER_GOODBYE" }
    ]
  },
  
  
  {
    "//1": "飲料の取引",
    "id": "PSY_TALK_TRADER_MONSTER_BUY2",
    "type": "talk_topic",
    "dynamic_line": "Please select the product you want.",
    "responses": [
      {
        "text": "[1 magic token] 100 bottles with water",
        "trial": { "type": "CONDITION", "condition": { "u_has_items": { "item": "ten_doller_token", "count": 1 } } },
        "success": {
          "topic": "PSY_TALK_TRADER_MONSTER_ANSWER",
          "effect": [
            { "u_spawn_item": "water_mineral", "count": 2, "container": "bottle_plastic" },
            { "u_sell_item": "ten_doller_token", "count": 1 }
          ]
        },
        "failure": { "topic": "PSY_TALK_TRADER_MONSTER_NOCASH" }
      },
      
      
      { "text": "[I need some kind of weapon.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY1" },
      { "text": "[I need some kind of medicine.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY3" },
      { "text": "[I need some ammo.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY4" },
      { "text": "[other]", "topic": "PSY_TALK_TRADER_MONSTER_BUY5" },
      { "text": "[I don't want any right now.]", "topic": "PSY_TALK_TRADER_GOODBYE" }
    ]
  },
  {
    "id": "PSY_TALK_TRADER_MONSTER_BUY3",
    "type": "talk_topic",
    "dynamic_line": "Please select the product you want.",
    "responses": [
      {
        "text": "[1 magic token] 100 joints",
        "trial": { "type": "CONDITION", "condition": { "u_has_items": { "item": "ten_doller_token", "count": 1 } } },
        "success": {
          "topic": "PSY_TALK_TRADER_MONSTER_ANSWER",
          "effect": [
            { "u_spawn_item": "joint", "count": 2 },
            { "u_sell_item": "ten_doller_token", "count": 1 }
          ]
        },
        "failure": { "topic": "PSY_TALK_TRADER_MONSTER_NOCASH" }
      },
      
      
      { "text": "[I need some kind of weapon.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY1" },
      { "text": "[I need some kind of magic item.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY2" },
      { "text": "[I need some ammo.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY4" },
      { "text": "[other]", "topic": "PSY_TALK_TRADER_MONSTER_BUY5" },
      { "text": "[I don't want any right now.]", "topic": "PSY_TALK_TRADER_GOODBYE" }
    ]
  },
  {
    "id": "PSY_TALK_TRADER_MONSTER_BUY4",
    "type": "talk_topic",
    "dynamic_line": "Please select the product you want.",
    "responses": [
      {
        "text": "[20 magic token] 100 arrows" ,
        "trial": { "type": "CONDITION", "condition": { "u_has_items": { "item": "ten_doller_token", "count": 20 } } },
        "success": {
          "topic": "PSY_TALK_TRADER_MONSTER_ANSWER",
          "effect": [
            { "u_spawn_item": "arrow_cf", "count": 10 },
            { "u_sell_item": "ten_doller_token", "count": 20 }
          ]
        },
        "failure": { "topic": "PSY_TALK_TRADER_MONSTER_NOCASH" }
      },

      
      { "text": "[I need some kind of weapon.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY1" },
      { "text": "[I need some kind of magic item.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY2" },
      { "text": "[I need some kind of medicine.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY3" },
      { "text": "[other]", "topic": "PSY_TALK_TRADER_MONSTER_BUY5" },
      { "text": "[I don't want any right now.]", "topic": "PSY_TALK_TRADER_GOODBYE" }
    ]
  },
  {
    "id": "PSY_TALK_TRADER_MONSTER_BUY5",
    "type": "talk_topic",
    "dynamic_line": "Please select the product you want.",
    "responses": [
      {
        "text": "[2 magic token] 100 nails",
        "trial": { "type": "CONDITION", "condition": { "u_has_items": { "item": "ten_doller_token", "count": 2 } } },
        "success": {
          "topic": "PSY_TALK_TRADER_MONSTER_ANSWER",
          "effect": [
            { "u_spawn_item": "nail", "count": 1 },
            { "u_sell_item": "ten_doller_token", "count": 2 }
          ]
        },
        "failure": { "topic": "PSY_TALK_TRADER_MONSTER_NOCASH" }
      },

      { "text": "[I need some kind of weapon.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY1" },
      { "text": "[I need some kind of magic item.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY2" },
      { "text": "[I need some kind of medicine.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY3" },
      { "text": "[I need some ammo.]", "topic": "PSY_TALK_TRADER_MONSTER_BUY4" },
      { "text": "[I don't want any right now.]", "topic": "PSY_TALK_TRADER_GOODBYE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "PSY_TALK_TRADER_MONSTER_ANSWER",
    "dynamic_line": "Thank you very much. Is there anything else you need?",
    "responses": [ { "text": "Maybe there is.", "topic": "PSY_TALK_TRADER_MONSTER" } ]
  },
  {
    "type": "talk_topic",
    "id": "PSY_TALK_TRADER_MONSTER_NOCASH",
    "dynamic_line": "You don't have enough currency.",
    "responses": [ { "text": "Yeah!", "topic": "PSY_TALK_TRADER_MONSTER" } ]
  },
  {
    "id": "PSY_TALK_TRADER_GOODBYE",
    "type": "talk_topic",
    "dynamic_line": "Thanks!",
    "responses": [ { "text": "…", "topic": "TALK_DONE" } ]
  }
]
