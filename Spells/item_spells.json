
[

    {
        "id": "PSY_magi_random_polymorph",
        "type": "SPELL",
        "name": "Random Polymorph",
        "description": "Transform target enemy into random monster.",
        "valid_targets": [ "hostile" ],
        "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "NO_PROJECTILE","POLYMORPH_GROUP" ],
        "effect": "targeted_polymorph",
        "effect_str": "GROUP_PSY_magi_TRANSFORM",
        "shape": "blast",
        "spell_class": "NONE",
        "energy_source": "MANA",
        "base_casting_time": 250,
        "casting_time_increment": -5.0,
        "final_casting_time": 150,
        "base_energy_cost": 250,
        "energy_increment": -5,
        "final_energy_cost": 150,
        "difficulty": 6,
        "max_level": 20,
        "min_damage": 100,
        "max_damage": 300,
        "damage_increment": 10,
        "damage_type": "pure",
        "min_range": 5,
        "max_range": 30,
        "range_increment": 1.5
    },

    {
      "id": "PSY_magi_moon_light_magic",
      "type": "SPELL",
      "name": "Moon light",
      "description": "A magic that condenses the power of moonlight and releases it as a laser.",
      "valid_targets": [ "hostile", "ally" ,"ground"],
      "flags": [ "NO_PROJECTILE","LOUD" ],
      "effect": "attack",
      "shape": "line",
      "spell_class": "NONE",
      "energy_source": "MANA",
      "difficulty": 12,
      "max_level": 1,
      "base_casting_time": 270,
      "base_energy_cost": 200,
      "final_energy_cost": 200,
      "min_damage": 35,
      "max_damage": 35,
      "damage_type": "cold",
      "field_id": "fd_dazzling",
      "min_field_intensity": 1,
      "max_field_intensity": 1,
      "min_range": 15,
      "max_range": 15,
      "range_increment": 1.0
    },

  
    {
      "id": "PSY_magi_onigiri_recover_HP",
      "type": "SPELL",
      "name": "Onigiri heal",
      "description": "You recover hp.",
      "valid_targets": [ "self" ],
      "min_damage": -10,
      "damage_increment": -2.0,
      "max_damage": -30,
      "max_level": 10,
      "effect": "attack",
      "shape": "blast",
      "spell_class": "NONE",
      "message": "You are full of energy after eating a grilled rice ball.",
      "energy_source": "MANA",
      "base_energy_cost": 0,
      "energy_increment": 0,
      "final_energy_cost": 0,
      "flags": [ "SILENT", "NO_LEGS" ],
      "difficulty": 3
    },

    {
      "type": "SPELL",
      "id": "PSY_magi_item_spell_summon_insects",
      "name": "Summon insects",
      "description": "Summons a random insect.",
      "flags": ["SILENT", "NO_PROJECTILE","RANDOM_TARGET","SPAWN_GROUP" ],
      "valid_targets": [ "ground" ],
      "base_casting_time": 100,
      "max_level": 20,
      "min_damage": 1,
      "max_damage": 1,
      "min_range": 2,
      "max_range": 2,
      "min_duration": 2000,
      "max_duration": 6000,
      "duration_increment": 200,
      "message": "You summons insects!",
      "shape": "blast",
      "effect": "summon",
      "effect_str": "GROUP_PSY_magi_RND_INSECTS"
    },

    {
      "id": "PSY_magi_item_spell_big_room",
      "type": "SPELL",
      "name": "Scroll of the Big Room",
      "description": "Remove all walls from random dungeons.",
      "valid_targets": [ "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 75,
      "max_aoe": 75,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "difficulty": 4,
      "max_level": 20,
      "base_casting_time": 300,
      "energy_source": "MANA",
      "shape": "blast",
      "effect": "ter_transform",
      "effect_str": "PSY_magi_remove_wall_form"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Light",
      "type": "SPELL",
      "name": "Scroll of Light",
      "description": "You'll be able to see through the entire terrain for a little while.",
      "valid_targets": ["hostile", "ally" , "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 75,
      "max_aoe": 75,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "difficulty": 4,
      "field_id": "fd_clairvoyant",
      "min_field_intensity": 1,
      "max_field_intensity": 1,
      "shape": "blast",
      "effect": "attack",
      "max_level": 20,
      "base_casting_time": 300,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Haste",
      "type": "SPELL",
      "name": "Scroll of Haste",
      "description": "A spell scroll that affects a wide area. Greatly increases the movement speed of all affected units.",
      "valid_targets": ["hostile", "ally" ,"self", "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 75,
      "max_aoe": 75,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "effect_str": "PSY_magi_haste_200",
      "difficulty": 4,
      "min_duration": 3000,
      "max_duration": 3000,
      "shape": "blast",
      "effect": "attack",
      "max_level": 20,
      "base_casting_time": 300,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Frighten",
      "type": "SPELL",
      "name": "Scroll of Frighten",
      "description": "A spell scroll that affects a slightly wide area. It terrorizes all affected enemy units for a short while.",
      "valid_targets": ["hostile", "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 15,
      "max_aoe": 15,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "effect_str": "run",
      "difficulty": 4,
      "min_duration": 1000,
      "max_duration": 1000,
      "shape": "blast",
      "effect": "attack",
      "max_level": 20,
      "base_casting_time": 100,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Freese",
      "type": "SPELL",
      "name": "Scroll of Freese",
      "description": "A spell scroll that affects a slightly wide area. It freezes all affected enemy units to unable to action for a short while.",
      "valid_targets": ["hostile", "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 15,
      "max_aoe": 15,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "effect": "mod_moves",
      "shape": "blast",
      "difficulty": 4,
      "min_damage": -800,
      "max_damage": -800,
      "max_level": 20,
      "base_casting_time": 100,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_summon_base",
      "type": "SPELL",
      "name": "Scroll of Summoning",
      "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
      "valid_targets": ["hostile", "ground" ,"self", "ground"],
      "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
      "min_range": 1,
      "max_range": 1,
      "effect": "none",
      "base_energy_cost": 200,
      "shape": "blast",
      "difficulty": 4,
      "min_damage": 1,
      "max_damage": 1,
      "max_level": 20,
      "base_casting_time": 100,
      "energy_source": "MANA",
      "extra_effects": [
        { "id": "PSY_magi_item_spell_scroll_of_summon_sub_hostile" },
        { "id": "PSY_magi_item_spell_scroll_of_summon_sub_ally" }
      ]
    },

    {
      "type": "SPELL",
      "id": "PSY_magi_item_spell_scroll_of_summon_sub_hostile",
      "name": "Summon insects",
      "description": "Summons a random insect.",
      "flags": ["HOSTILE_SUMMON","SILENT", "NO_PROJECTILE","RANDOM_DURATION","RANDOM_TARGET","SPAWN_GROUP","SPAWN_WITH_DEATH_DROPS" ],
      "valid_targets": [ "ground" ],
      "base_casting_time": 100,
      "min_damage": 10,
      "max_damage": 10,
      "min_range": 2,
      "max_range": 2,
      "min_aoe": 10,
      "max_aoe": 10,
      "min_duration": 60000,
      "max_duration": 60000,
      "message": "You summon hostile monsters!",
      "shape": "blast",
      "effect": "summon",
      "effect_str": "GROUP_PSY_magi_RND_MONSTERS_ALL1"
    },

    {
      "type": "SPELL",
      "id": "PSY_magi_item_spell_scroll_of_summon_sub_ally",
      "name": "Summon insects",
      "description": "Summons a random insect.",
      "flags": ["SILENT", "NO_PROJECTILE","RANDOM_DURATION","RANDOM_TARGET","SPAWN_GROUP" ],
      "valid_targets": [ "ground" ],
      "base_casting_time": 100,
      "min_damage": 10,
      "max_damage": 10,
      "min_range": 2,
      "max_range": 2,
      "min_aoe": 10,
      "max_aoe": 10,
      "min_duration": 60000,
      "max_duration": 60000,
      "message": "You summon friendly monsters!",
      "shape": "blast",
      "effect": "summon",
      "effect_str": "GROUP_PSY_magi_RND_MONSTERS_ALL1"
    },

    {
      "id": "PSY_magi_spell_scroll_of_collect_item_base",
      "type": "SPELL",
      "name": "Vacuum Collect ",
      "description": "This is a scroll of collect items. When you read it, collect surrounding items in the target area.\n This effects ignore walls",
      "valid_targets": ["ground"],
      "flags": [ "WONDER","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
      "effect": "none",
      "shape": "blast",
      "max_level": 20,
      "spell_class": "NONE",
      "energy_source": "MANA",
      "base_energy_cost": 350,
      "energy_increment": -5.0,
      "final_energy_cost": 250,
      "min_damage": 100,
      "max_damage": 100,
      "damage_increment": 0.5,
      "min_range": 1,
      "max_range": 1,
      "min_aoe": 25,
      "max_aoe": 25,
      "aoe_increment": 0.5,
      "base_casting_time": 200,
      "final_casting_time": 100,
      "casting_time_increment": -5.0,
      "extra_effects": [
        { "id": "PSY_magi_spell_scroll_of_collect_item_sub"}
      ]
  },

  {
      "id": "PSY_magi_spell_scroll_of_collect_item_sub",
      "type": "SPELL",
      "name": "Vacuum sub",
      "description": "Distort space-time for a moment and collect surrounding items in the target tile.\n This effects ignore walls",
      "valid_targets": ["item","ground"],
      "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
      "effect": "area_pull",
      "shape": "blast",
      "spell_class": "NONE",
      "max_level": 20,
      "min_range": 1,
      "max_range": 1,
      "min_aoe": 25,
      "max_aoe": 25,
      "aoe_increment": 0.5,
      "base_casting_time": 100
  },

  {
    "id": "PSY_magi_spell_scroll_of_upgrade",
    "type": "SPELL",
    "name": { "str": "Scroll of Upgrade" },
    "description": "Upgrade upgradeable monsters in a large AOE",
    "valid_targets": [ "hostile", "ally" ],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "min_aoe": 20,
    "max_aoe": 20,
    "min_damage": 10000,
    "max_damage": 10000,
    "shape": "blast",
    "effect": "upgrade"
  },

  {
    "id": "PSY_magi_spell_wand_of_upgrade",
    "type": "SPELL",
    "name": { "str": "wand of upgrade" },
    "description": "Upgrade target upgradeable monster.",
    "valid_targets": [ "hostile", "ally" ],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "min_range": 10,
    "max_range": 10,
    "min_damage": 10000,
    "max_damage": 10000,
    "shape": "blast",
    "effect": "upgrade"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_scroll_of_monster_house",
    "name": "Scroll of Monster House",
    "description": "Scroll of Monster house.",
    "flags": ["PERMANENT","HOSTILE_SUMMON","SILENT", "NO_PROJECTILE","SPAWN_GROUP","SPAWN_WITH_DEATH_DROPS" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "min_damage": 50,
    "max_damage": 50,
    "min_aoe": 10,
    "max_aoe": 10,
    "min_duration": 600,
    "max_duration": 600,
    "message": "You call monsters!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_RND_MONSTERS_ALL1"
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base+2",
    "type": "SPELL",
    "name": "Call babble+2",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base+1",
    "type": "SPELL",
    "name": "Call babble+1",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base2",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base2+1",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base2+2",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_call_babble_sub",
    "name": "Summon insects",
    "description": "Summons a random insect.",
    "flags": ["SILENT", "NO_PROJECTILE","RANDOM_DURATION","RANDOM_TARGET","SPAWN_GROUP" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 5,
    "max_range": 5,
    "min_duration": 3000,
    "max_duration": 3000,
    "message": "You summon a babble!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_CALL_BABBLE"
  },

  {
    "id": "PSY_magi_item_spell_call_babble_sub_fakespell",
    "type": "SPELL",
    "name": { "str": "Fake Spell" },
    "description": "A spell that doesn't do anything.",
    "valid_targets": [ "hostile", "ally", "ground" ],
    "flags": [ "SILENT" ],
    "shape": "blast",
    "effect": "noise"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_call_babble_active",
    "name": "Call Babble",
    "description": "Call 4 of babbles.",
    "flags": ["SILENT", "NO_PROJECTILE","SPAWN_GROUP" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "max_level": 20,
    "min_damage": 2,
    "max_damage": 6,
    "damage_increment": 0.2,
    "min_aoe": 3,
    "max_aoe": 3,
    "min_duration": 3000,
    "max_duration": 3000,
    "message": "You summon babbles!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_CALL_BABBLE"
  },

  {
    "id": "PSY_magi_item_spell_healing_ally",
    "type": "SPELL",
    "name": "Healing ally",
    "description": "healing ally",
    "valid_targets": ["ally"],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "effect_str": "PSY_magi_weak_accelerating",
    "difficulty": 0,
    "base_casting_time": 80,
    "min_duration": 1000,
    "max_duration": 1000,
    "max_level": 20,
    "min_damage": -30,
    "max_damage": -50,
    "damage_increment": -1.0,
    "min_aoe": 10,
    "max_aoe": 10
  },

  {
    "id": "PSY_magi_item_spell_scroll_of_nothing",
    "type": "SPELL",
    "name": { "str": "Scroll of nothing written" },
    "description": "A spell that doesn't do anything.",
    "valid_targets": [ "hostile", "ally", "ground" ],
    "message": "You read blank!",
    "flags": [ "SILENT" ],
    "shape": "blast",
    "effect": "noise"
  },

  {
    "id": "PSY_magi_spell_wand_of_resurrection",
    "type": "SPELL",
    "name": "wand of resurrection",
    "description": "Reanimates the corpse of a resurrectable target.",
    "valid_targets": ["ground"],
    "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 20,
    "max_range": 40,
    "range_increment": 1.0,
    "base_casting_time": 100,
    "effect": "revive",
    "effect_str": "ZOMBIE",
    "extra_effects": [
      { "id": "PSY_magi_spell_wand_of_resurrection_sub" }
    ]
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_spell_wand_of_resurrection_sub",
    "name": "Mental cracking",
    "description": "Control an enemy under 180 MAX HP and change to our side for short of period.",
    "valid_targets": [ "hostile","ground" ],
    "effect": "charm_monster",
    "message": "",
    "min_damage": 9000,
    "max_damage": 9000,
    "max_level": 20,
    "shape": "blast",
    "min_range": 20,
    "max_range": 20,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "duration_increment": 20000,
    "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "extra_effects": [
      { "id": "PSY_magi_spell_wand_of_resurrection_sub_healing" }
    ]
  },

  {
    "id": "PSY_magi_spell_wand_of_resurrection_sub_healing",
    "type": "SPELL",
    "name": "Healing ally",
    "description": "healing ally.",
    "valid_targets": ["ally","ground"],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "min_duration": 1000,
    "max_duration": 1000,
    "min_damage": -5000,
    "max_damage": -5000,
    "max_level": 0,
    "min_range": 20,
    "max_range": 20
  },

  {
    "id": "PSY_magi_spell_wand_of_pulling",
    "type": "SPELL",
    "name": "wand of pulling",
    "description": "Attempts to pull the target towards the caster in a straight line.",
    "valid_targets": ["hostile","ally"],
    "flags": [ "NO_LEGS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 10,
    "max_range": 30,
    "range_increment": 1.0,
    "base_casting_time": 100,
    "effect": "pull_target"
  },

  {
    "id": "PSY_magi_spell_wand_of_dashing",
    "type": "SPELL",
    "name": "wand of dashing",
    "description": "shoots a magic bullet at the target and causes the caster to move to it in a straight line.",
    "valid_targets": ["hostile","ally"],
    "flags": [ "NO_LEGS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 10,
    "max_range": 20,
    "range_increment": 0.5,
    "base_casting_time": 100,
    "effect": "dash"
  },

  {
    "id": "PSY_magi_spell_wand_of_swapping",
    "type": "SPELL",
    "name": "wand of swapping",
    "description": "shoots a magic bullet at the target and swaps you and target positions in a long distance,   also slow target movement for a short of period.",
    "valid_targets": [ "hostile","ally" ],
    "flags": ["SWAP_POS","NO_LEGS" ],
    "effect": "attack",
    "effect_str": "PSY_magi_slow",
    "shape": "blast",
    "spell_class": "NONE",
    "base_casting_time": 100,
    "final_casting_time": 100,
    "max_level": 20,
    "min_range": 10,
    "max_range": 30,
    "range_increment": 1.0,
    "min_duration": 1000,
    "max_duration": 2000,
    "duration_increment": 50
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_summon_pawns",
    "name": "Summon chess of pawns",
    "description": "Summons 2(+ 2*enhancement value) chess of pawns to the target location.",
    "flags": ["SILENT", "NO_PROJECTILE" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "max_level": 20,
    "min_damage": 2,
    "max_damage": 6,
    "damage_increment": 0.2,
    "min_range": 10,
    "max_range": 20,
    "range_increment": 0.5,
    "min_aoe": 3,
    "max_aoe": 5,
    "aoe_increment": 0.1,
    "min_duration": 6000,
    "max_duration": 12000,
    "duration_increment": 300,
    "message": "You summon pawns!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "PSY_magi_rnd_mon_chess_pawn"
  },




  {
        "id": "PSY_magi_random_polymorph",
        "type": "SPELL",
        "name": "Random Polymorph",
        "description": "Transform target enemy into random monster.",
        "valid_targets": [ "hostile" ],
        "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "NO_PROJECTILE","POLYMORPH_GROUP" ],
        "effect": "targeted_polymorph",
        "effect_str": "GROUP_PSY_magi_TRANSFORM",
        "shape": "blast",
        "spell_class": "NONE",
        "energy_source": "MANA",
        "base_casting_time": 250,
        "casting_time_increment": -5.0,
        "final_casting_time": 150,
        "base_energy_cost": 250,
        "energy_increment": -5,
        "final_energy_cost": 150,
        "difficulty": 6,
        "max_level": 20,
        "min_damage": 100,
        "max_damage": 300,
        "damage_increment": 10,
        "damage_type": "pure",
        "min_range": 5,
        "max_range": 30,
        "range_increment": 1.5
  },

    {
      "id": "PSY_magi_moon_light_magic",
      "type": "SPELL",
      "name": "Moon light",
      "description": "A magic that condenses the power of moonlight and releases it as a laser.",
      "valid_targets": [ "hostile", "ally" ,"ground"],
      "flags": [ "NO_PROJECTILE","LOUD" ],
      "effect": "attack",
      "shape": "line",
      "spell_class": "NONE",
      "energy_source": "MANA",
      "difficulty": 12,
      "max_level": 1,
      "base_casting_time": 270,
      "base_energy_cost": 200,
      "final_energy_cost": 200,
      "min_damage": 35,
      "max_damage": 35,
      "damage_type": "cold",
      "field_id": "fd_dazzling",
      "min_field_intensity": 1,
      "max_field_intensity": 1,
      "min_range": 15,
      "max_range": 15,
      "range_increment": 1.0
    },

  
    {
      "id": "PSY_magi_onigiri_recover_HP",
      "type": "SPELL",
      "name": "Onigiri heal",
      "description": "You recover hp.",
      "valid_targets": [ "self" ],
      "min_damage": -10,
      "damage_increment": -2.0,
      "max_damage": -30,
      "max_level": 10,
      "effect": "attack",
      "shape": "blast",
      "spell_class": "NONE",
      "message": "You are full of energy after eating a grilled rice ball.",
      "energy_source": "MANA",
      "base_energy_cost": 0,
      "energy_increment": 0,
      "final_energy_cost": 0,
      "flags": [ "SILENT", "NO_LEGS" ],
      "difficulty": 3
    },

    {
      "type": "SPELL",
      "id": "PSY_magi_item_spell_summon_insects",
      "name": "Summon insects",
      "description": "Summons a random insect.",
      "flags": ["SILENT", "NO_PROJECTILE","RANDOM_TARGET","SPAWN_GROUP" ],
      "valid_targets": [ "ground" ],
      "base_casting_time": 100,
      "max_level": 20,
      "min_damage": 1,
      "max_damage": 1,
      "min_range": 2,
      "max_range": 2,
      "min_duration": 2000,
      "max_duration": 6000,
      "duration_increment": 200,
      "message": "You summons insects!",
      "shape": "blast",
      "effect": "summon",
      "effect_str": "GROUP_PSY_magi_RND_INSECTS"
    },

    {
      "id": "PSY_magi_item_spell_big_room",
      "type": "SPELL",
      "name": "Scroll of the Big Room",
      "description": "Remove all walls from random dungeons.",
      "valid_targets": [ "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 75,
      "max_aoe": 75,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "difficulty": 4,
      "max_level": 20,
      "base_casting_time": 300,
      "energy_source": "MANA",
      "shape": "blast",
      "effect": "ter_transform",
      "effect_str": "PSY_magi_remove_wall_form"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Light",
      "type": "SPELL",
      "name": "Scroll of Light",
      "description": "You'll be able to see through the entire terrain for a little while.",
      "valid_targets": ["hostile", "ally" , "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 75,
      "max_aoe": 75,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "difficulty": 4,
      "field_id": "fd_clairvoyant",
      "min_field_intensity": 1,
      "max_field_intensity": 1,
      "shape": "blast",
      "effect": "attack",
      "max_level": 20,
      "base_casting_time": 300,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Haste",
      "type": "SPELL",
      "name": "Scroll of Haste",
      "description": "A spell scroll that affects a wide area. Greatly increases the movement speed of all affected units.",
      "valid_targets": ["hostile", "ally" ,"self", "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 75,
      "max_aoe": 75,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "effect_str": "PSY_magi_haste_200",
      "difficulty": 4,
      "min_duration": 3000,
      "max_duration": 3000,
      "shape": "blast",
      "effect": "attack",
      "max_level": 20,
      "base_casting_time": 300,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Frighten",
      "type": "SPELL",
      "name": "Scroll of Frighten",
      "description": "A spell scroll that affects a slightly wide area. It terrorizes all affected enemy units for a short while.",
      "valid_targets": ["hostile", "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 15,
      "max_aoe": 15,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "effect_str": "run",
      "difficulty": 4,
      "min_duration": 1000,
      "max_duration": 1000,
      "shape": "blast",
      "effect": "attack",
      "max_level": 20,
      "base_casting_time": 100,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Freese",
      "type": "SPELL",
      "name": "Scroll of Freese",
      "description": "A spell scroll that affects a slightly wide area. It freezes all affected enemy units to unable to action for a short while.",
      "valid_targets": ["hostile", "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 15,
      "max_aoe": 15,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "effect": "mod_moves",
      "shape": "blast",
      "difficulty": 4,
      "min_damage": -800,
      "max_damage": -800,
      "max_level": 20,
      "base_casting_time": 100,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_summon_base",
      "type": "SPELL",
      "name": "Scroll of Summoning",
      "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
      "valid_targets": ["hostile", "ground" ,"self", "ground"],
      "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
      "min_range": 1,
      "max_range": 1,
      "effect": "none",
      "base_energy_cost": 200,
      "shape": "blast",
      "difficulty": 4,
      "min_damage": 1,
      "max_damage": 1,
      "max_level": 20,
      "base_casting_time": 100,
      "energy_source": "MANA",
      "extra_effects": [
        { "id": "PSY_magi_item_spell_scroll_of_summon_sub_hostile" },
        { "id": "PSY_magi_item_spell_scroll_of_summon_sub_ally" }
      ]
    },

    {
      "type": "SPELL",
      "id": "PSY_magi_item_spell_scroll_of_summon_sub_hostile",
      "name": "Summon insects",
      "description": "Summons a random insect.",
      "flags": ["HOSTILE_SUMMON","SILENT", "NO_PROJECTILE","RANDOM_DURATION","RANDOM_TARGET","SPAWN_GROUP","SPAWN_WITH_DEATH_DROPS" ],
      "valid_targets": [ "ground" ],
      "base_casting_time": 100,
      "min_damage": 10,
      "max_damage": 10,
      "min_range": 2,
      "max_range": 2,
      "min_aoe": 10,
      "max_aoe": 10,
      "min_duration": 60000,
      "max_duration": 60000,
      "message": "You summon hostile monsters!",
      "shape": "blast",
      "effect": "summon",
      "effect_str": "GROUP_PSY_magi_RND_MONSTERS_ALL1"
    },

    {
      "type": "SPELL",
      "id": "PSY_magi_item_spell_scroll_of_summon_sub_ally",
      "name": "Summon insects",
      "description": "Summons a random insect.",
      "flags": ["SILENT", "NO_PROJECTILE","RANDOM_DURATION","RANDOM_TARGET","SPAWN_GROUP" ],
      "valid_targets": [ "ground" ],
      "base_casting_time": 100,
      "min_damage": 10,
      "max_damage": 10,
      "min_range": 2,
      "max_range": 2,
      "min_aoe": 10,
      "max_aoe": 10,
      "min_duration": 60000,
      "max_duration": 60000,
      "message": "You summon friendly monsters!",
      "shape": "blast",
      "effect": "summon",
      "effect_str": "GROUP_PSY_magi_RND_MONSTERS_ALL1"
    },

    {
      "id": "PSY_magi_spell_scroll_of_collect_item_base",
      "type": "SPELL",
      "name": "Vacuum Collect ",
      "description": "This is a scroll of collect items. When you read it, collect surrounding items in the target area.\n This effects ignore walls",
      "valid_targets": ["ground"],
      "flags": [ "WONDER","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
      "effect": "none",
      "shape": "blast",
      "max_level": 20,
      "spell_class": "NONE",
      "energy_source": "MANA",
      "base_energy_cost": 350,
      "energy_increment": -5.0,
      "final_energy_cost": 250,
      "min_damage": 100,
      "max_damage": 100,
      "damage_increment": 0.5,
      "min_range": 1,
      "max_range": 1,
      "min_aoe": 25,
      "max_aoe": 25,
      "aoe_increment": 0.5,
      "base_casting_time": 200,
      "final_casting_time": 100,
      "casting_time_increment": -5.0,
      "extra_effects": [
        { "id": "PSY_magi_spell_scroll_of_collect_item_sub"}
      ]
  },

  {
      "id": "PSY_magi_spell_scroll_of_collect_item_sub",
      "type": "SPELL",
      "name": "Vacuum sub",
      "description": "Distort space-time for a moment and collect surrounding items in the target tile.\n This effects ignore walls",
      "valid_targets": ["item","ground"],
      "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
      "effect": "area_pull",
      "shape": "blast",
      "spell_class": "NONE",
      "max_level": 20,
      "min_range": 1,
      "max_range": 1,
      "min_aoe": 25,
      "max_aoe": 25,
      "aoe_increment": 0.5,
      "base_casting_time": 100
  },

  {
    "id": "PSY_magi_spell_scroll_of_upgrade",
    "type": "SPELL",
    "name": { "str": "Scroll of Upgrade" },
    "description": "Upgrade upgradeable monsters in a large AOE",
    "valid_targets": [ "hostile", "ally" ],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "min_aoe": 20,
    "max_aoe": 20,
    "min_damage": 10000,
    "max_damage": 10000,
    "shape": "blast",
    "effect": "upgrade"
  },

  {
    "id": "PSY_magi_spell_wand_of_upgrade",
    "type": "SPELL",
    "name": { "str": "wand of upgrade" },
    "description": "Upgrade target upgradeable monster.",
    "valid_targets": [ "hostile", "ally" ],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "min_range": 10,
    "max_range": 10,
    "min_damage": 10000,
    "max_damage": 10000,
    "shape": "blast",
    "effect": "upgrade"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_scroll_of_monster_house",
    "name": "Scroll of Monster House",
    "description": "Scroll of Monster house.",
    "flags": ["PERMANENT","HOSTILE_SUMMON","SILENT", "NO_PROJECTILE","SPAWN_GROUP","SPAWN_WITH_DEATH_DROPS" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "min_damage": 50,
    "max_damage": 50,
    "min_aoe": 10,
    "max_aoe": 10,
    "min_duration": 600,
    "max_duration": 600,
    "message": "You call monsters!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_RND_MONSTERS_ALL1"
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base+2",
    "type": "SPELL",
    "name": "Call babble+2",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base+1",
    "type": "SPELL",
    "name": "Call babble+1",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base2",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base2+1",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base2+2",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_call_babble_sub",
    "name": "Summon insects",
    "description": "Summons a random insect.",
    "flags": ["SILENT", "NO_PROJECTILE","RANDOM_DURATION","RANDOM_TARGET","SPAWN_GROUP" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 5,
    "max_range": 5,
    "min_duration": 3000,
    "max_duration": 3000,
    "message": "You summon a babble!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_CALL_BABBLE"
  },

  {
    "id": "PSY_magi_item_spell_call_babble_sub_fakespell",
    "type": "SPELL",
    "name": { "str": "Fake Spell" },
    "description": "A spell that doesn't do anything.",
    "valid_targets": [ "hostile", "ally", "ground" ],
    "flags": [ "SILENT" ],
    "shape": "blast",
    "effect": "noise"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_call_babble_active",
    "name": "Call Babble",
    "description": "Call 4 of babbles.",
    "flags": ["SILENT", "NO_PROJECTILE","SPAWN_GROUP" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "max_level": 20,
    "min_damage": 2,
    "max_damage": 6,
    "damage_increment": 0.2,
    "min_aoe": 3,
    "max_aoe": 3,
    "min_duration": 3000,
    "max_duration": 3000,
    "message": "You summon babbles!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_CALL_BABBLE"
  },

  {
    "id": "PSY_magi_item_spell_healing_ally",
    "type": "SPELL",
    "name": "Healing ally",
    "description": "healing ally",
    "valid_targets": ["ally"],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "effect_str": "PSY_magi_weak_accelerating",
    "difficulty": 0,
    "base_casting_time": 80,
    "min_duration": 1000,
    "max_duration": 1000,
    "max_level": 20,
    "min_damage": -30,
    "max_damage": -50,
    "damage_increment": -1.0,
    "min_aoe": 10,
    "max_aoe": 10
  },

  {
    "id": "PSY_magi_item_spell_scroll_of_nothing",
    "type": "SPELL",
    "name": { "str": "Scroll of nothing written" },
    "description": "A spell that doesn't do anything.",
    "valid_targets": [ "hostile", "ally", "ground" ],
    "message": "You read blank!",
    "flags": [ "SILENT" ],
    "shape": "blast",
    "effect": "noise"
  },

  {
    "id": "PSY_magi_spell_wand_of_resurrection",
    "type": "SPELL",
    "name": "wand of resurrection",
    "description": "Reanimates the corpse of a resurrectable target.",
    "valid_targets": ["ground"],
    "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 20,
    "max_range": 40,
    "range_increment": 1.0,
    "base_casting_time": 100,
    "effect": "revive",
    "effect_str": "ZOMBIE",
    "extra_effects": [
      { "id": "PSY_magi_spell_wand_of_resurrection_sub" }
    ]
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_spell_wand_of_resurrection_sub",
    "name": "Mental cracking",
    "description": "Control an enemy under 180 MAX HP and change to our side for short of period.",
    "valid_targets": [ "hostile","ground" ],
    "effect": "charm_monster",
    "message": "",
    "min_damage": 9000,
    "max_damage": 9000,
    "max_level": 20,
    "shape": "blast",
    "min_range": 20,
    "max_range": 20,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "duration_increment": 20000,
    "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "extra_effects": [
      { "id": "PSY_magi_spell_wand_of_resurrection_sub_healing" }
    ]
  },

  {
    "id": "PSY_magi_spell_wand_of_resurrection_sub_healing",
    "type": "SPELL",
    "name": "Healing ally",
    "description": "healing ally.",
    "valid_targets": ["ally","ground"],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "min_duration": 1000,
    "max_duration": 1000,
    "min_damage": -5000,
    "max_damage": -5000,
    "max_level": 0,
    "min_range": 20,
    "max_range": 20
  },

  {
    "id": "PSY_magi_spell_wand_of_pulling",
    "type": "SPELL",
    "name": "wand of pulling",
    "description": "Attempts to pull the target towards the caster in a straight line.",
    "valid_targets": ["hostile","ally"],
    "flags": [ "NO_LEGS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 10,
    "max_range": 30,
    "range_increment": 1.0,
    "base_casting_time": 100,
    "effect": "pull_target"
  },

  {
    "id": "PSY_magi_spell_wand_of_dashing",
    "type": "SPELL",
    "name": "wand of dashing",
    "description": "shoots a magic bullet at the target and causes the caster to move to it in a straight line.",
    "valid_targets": ["hostile","ally"],
    "flags": [ "NO_LEGS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 10,
    "max_range": 20,
    "range_increment": 0.5,
    "base_casting_time": 100,
    "effect": "dash"
  },

  {
    "id": "PSY_magi_spell_wand_of_swapping",
    "type": "SPELL",
    "name": "wand of swapping",
    "description": "shoots a magic bullet at the target and swaps you and target positions in a long distance,   also slow target movement for a short of period.",
    "valid_targets": [ "hostile","ally" ],
    "flags": ["SWAP_POS","NO_LEGS" ],
    "effect": "attack",
    "effect_str": "PSY_magi_slow",
    "shape": "blast",
    "spell_class": "NONE",
    "base_casting_time": 100,
    "final_casting_time": 100,
    "max_level": 20,
    "min_range": 10,
    "max_range": 30,
    "range_increment": 1.0,
    "min_duration": 1000,
    "max_duration": 2000,
    "duration_increment": 50
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_summon_pawns",
    "name": "Summon chess of pawns",
    "description": "Summons 2(+ 2*enhancement value) chess of pawns to the target location.",
    "flags": ["SILENT", "NO_PROJECTILE" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "max_level": 20,
    "min_damage": 2,
    "max_damage": 6,
    "damage_increment": 0.2,
    "min_range": 10,
    "max_range": 20,
    "range_increment": 0.5,
    "min_aoe": 3,
    "max_aoe": 5,
    "aoe_increment": 0.1,
    "min_duration": 6000,
    "max_duration": 12000,
    "duration_increment": 300,
    "message": "You summon pawns!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "PSY_magi_rnd_mon_chess_pawn"
  }

]

